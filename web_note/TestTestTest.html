<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <!-- Title -->
    <title>測試區</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../css/bootstrap_5.3.3_css/bootstrap.min.css"/>
    <link rel="stylesheet" href="../css/bootstrap_icons-main/font/bootstrap-icons.css"/>
    <link rel="stylesheet" href="../css/font_awesome_v6.5.2_all.css" type="text/css" />
    <link rel="stylesheet" href="../css/animate_v4.1.1_min.css">
    <link rel="stylesheet" href="../css/main.css"/>

    <!-- jQuery -->
    <script src="../js/jquery_v3.7.1_min.js"></script>
    <!-- Bootstrap Bundle JS -->
    <script src="../js/bootstrap_5.3.3_js/bootstrap.bundle.min.js"></script>
    <script src="../js/d3_v7.9.0_min.js"></script>
    <script src="../js/wow_v1.1.3_min.js"></script>
    <script src="../js/script.js"></script>
    <script>
      // function heightCaculator(x) {
      //   var x = Math.round(x);
      //   var y = x * (16 / 9);
      //   y = parseFloat(y.toFixed(1));
      //   var z = x + (y - x) / 2;
      //   z = z.toFixed(1);
        
      //   if (x !== NaN) {
      //     alert("這張圖長邊 " + y + " px，短邊 " + x + " px\n\n有 " + (x*y/10000).toFixed(1) + " 萬像素\n加黑框後的短邊為 " + z + " px");
      //   } else {
      //     alert("非可計算數值");
      //   }
        
      // };

      // var h = prompt("請輸入短邊長（較小的數字）", "");
      // heightCaculator(h);
    </script>
    <style>
      body {
        padding: 30px;
      }
    </style>
  </head>
  <body>
    <h2>歡迎來到測試場</h2>
    <hr>
    <section>
      <!-- <img src="../assets/DSC_5360.jpg" width="600px"> -->
      <p id="minMileageData"></p>
      <p id="maxMileageData"></p>
      <p id="sortMileageData"></p>
      <script>
        const getCsvSpecificData = async () => {
          const csvData = await d3.csv("../assets/testAssets/CountyRoad_1021003.csv", (d) => +d["里程_單位公里"]);

          const minNumber = d3.min(csvData);
          const maxNumber = d3.max(csvData);
          const filter = d3.filter(csvData, (d) => d > 0 && d < 200);
          const sort = d3.sort(filter);

          document.getElementById("minMileageData").innerHTML = "臺灣縣市道最短公里數｜<b>" + minNumber + "</b> 公里";
          document.getElementById("maxMileageData").innerHTML = "臺灣縣市道最長公里數｜<b>" + maxNumber + "</b> 公里";
          document.getElementById("sortMileageData").innerHTML = "臺灣縣市道公里數從小排到大" + sort;
        };

        getCsvSpecificData();


        const numberData = [5, 1, 35, 13, 15, 18, 21, 31, 29];
        const minNumber = d3.min(numberData);
        const maxNumber = d3.max(numberData);
        const extent = d3.extent(numberData);
        const sum = d3.sum(numberData);
        const isAllIntegerBiggerThanTwenty = d3.every(numberData, (d) => d > 20);
        const isAnyIntegerBiggerThanTwenty = d3.some(numberData, (d) => d > 20);
        const filter = d3.filter(numberData, (d) => d > 20);
        const sort = d3.sort(numberData);
        
        console.log("min mileageData", minNumber, "max mileageData", maxNumber);
        console.log("extent", extent);
        console.log("sum", sum);
        console.log("every > 20", isAllIntegerBiggerThanTwenty);
        console.log("any > 20", isAnyIntegerBiggerThanTwenty);
        console.log("sort", sort);

      </script>
    </section>
    <section>
      <!-- 格式化時間 Time Formats 分類 -->
      <script>
        const timeParse = d3.timeParse("%y-%m-%d")("96-09-27");
        console.log("d3標準格式時間", timeParse);

        const timeFormat = d3.timeFormat("%Y/%m/%d");
        console.log("我們在看的時間", timeFormat(timeParse));
      </script>
    </section>
    <section>
      <!-- 格式化數字 Number Formats 分類 -->
      <script>
        const numberFormat = d3.format("b");
        const binaryNumber = numberFormat(1e1);
        console.log("format", binaryNumber);
      </script>
    </section>
    <section>
      <!-- 隨機亂數 Random Numbers 分類 -->
      <script>
        const randomNum1 = d3.randomInt(50)();
        const randomNum2 = d3.randomInt(50, 100)();
        console.log("隨機亂數（有上下界）", randomNum1);
        console.log("隨機亂數（未設定下界，預設下界為0）", randomNum2);
      </script>
    </section>

  </body>
</html>