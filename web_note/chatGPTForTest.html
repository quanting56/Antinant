<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Palette</title>
    <link rel="stylesheet" href="../css/bootstrap_5.3.3_css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css" />

    <!-- JS link -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="../js/bootstrap_5.3.3_js/bootstrap.bundle.min.js"></script>
    <script src="../js/d3_v7.9.0_min.js"></script>
    <!-- 引入 Leaflet.js 和 Leaflet Routing Machine -->
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-routing-machine/3.2.12/leaflet-routing-machine.min.js"></script>
    <style>
        .color-box {
            width: 100px;
            height: 100px;
            margin: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: Arial, sans-serif;
            font-size: 12px;
            color: white;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
        .palette {
            display: flex;
            flex-wrap: wrap;
        }
    </style>
</head>
<body>
    <div class="palette">
        <div class="color-box" style="background-color: #9a6852;">#9a6852</div>
        <div class="color-box" style="background-color: #b47d68;">#b47d68</div>
        <div class="color-box" style="background-color: #7d4f3e;">#7d4f3e</div>
        <div class="color-box" style="background-color: #c89a88;">#c89a88</div>
        <div class="color-box" style="background-color: #5e3a2d;">#5e3a2d</div>
        <div class="color-box" style="background-color: #a96f5a;">#a96f5a</div>
        <div class="color-box" style="background-color: #8a5b4d;">#8a5b4d</div>
        <div class="color-box" style="background-color: #c4907b;">#c4907b</div>
        <div class="color-box" style="background-color: #6e4337;">#6e4337</div>
        <div class="color-box" style="background-color: #dbb5a2;">#dbb5a2</div>
        <div class="color-box" style="background-color: #9e7359;">#9e7359</div>
        <div class="color-box" style="background-color: #ac836a;">#ac836a</div>
        <div class="color-box" style="background-color: #8f5642;">#8f5642</div>
        <div class="color-box" style="background-color: #d1a999;">#d1a999</div>
        <div class="color-box" style="background-color: #744a3b;">#744a3b</div>
        <div class="color-box" style="background-color: #ba907e;">#ba907e</div>
        <div class="color-box" style="background-color: #8c654f;">#8c654f</div>
        <div class="color-box" style="background-color: #d6b09a;">#d6b09a</div>
        <div class="color-box" style="background-color: #805a47;">#805a47</div>
        <div class="color-box" style="background-color: #e0c5b5;">#e0c5b5</div>
        <div class="color-box" style="background-color: #9c725f;">#9c725f</div>
        <div class="color-box" style="background-color: #a57e6d;">#a57e6d</div>
        <div class="color-box" style="background-color: #7a4d3a;">#7a4d3a</div>
        <div class="color-box" style="background-color: #cb987c;">#cb987c</div>
        <div class="color-box" style="background-color: #6b3f33;">#6b3f33</div>
    </div>
</body>
</html>

<section>
  <div id="main-map" style="height: 400px;"></div>
  <div id="day1-map" style="height: 300px; margin-top: 20px;"></div>
  <div id="day2-map" style="height: 300px; margin-top: 20px;"></div>
  <div id="day3-map" style="height: 300px; margin-top: 20px;"></div>
  
  <script>
    function map() {
      // 環島路線資料
      const route = [
        { day: "Day1", stops: ["台灣中油 南港站", "rvspt新台五路", "rvspt暖暖源遠路", "7-11源遠門市", "rvspt瑞芳物流共和國", "萊爾富瑞芳瑞濱店", "三貂角極東公園", "北宜蛋之家", "rvspt北宜公路", "rvspt頭城台2線", "rvspt台2線台7線路口", "台灣中油 蘇澳站", "台灣雙醬咖哩蘇澳店", "rvspt台9線蘇澳東澳段", "7-11金玉門市", "rvspt台9線南澳和平段", "台泥DAKA園區", "rvspt下清水橋-北端"] },
        { day: "Day1後", stops: ["rvspt下清水橋-南端", "花蓮北吉光輕旅"] },
        { day: "Day2", stops: ["花蓮北吉光輕旅", "台灣中油 南埔站", "rvspt台9線木瓜溪橋", "rvspt台9線舊線萬榮段1", "7-11萬榮門市", "林田山林業文化園區", "rvspt台9線舊線萬榮段2", "東里車站", "東里舊站", "rvspt池上市區", "初來橋", "台灣中油 海端站", "rvspt初鹿台9線", "rvspt台9線台11乙線路口", "途中．台東國際青年旅舍"] },
        { day: "Day3", stops: ["途中．台東國際青年旅舍", "台東飛機巷", "台灣中油 加賀站", "rvspt太麻里台9線", "太麻里平交道", "多良廢站", "大武之心南迴驛站", "台26線南田端", "台灣中油 山海關站", "南迴改攝影點", "7-11南北棧門市", "萊爾富枋山加祿村店", "內埔鄉水門", "台24線起點", "rvspt高雄中正一路", "高雄旅聚居青年旅舍"] },
      ];
      
      // 各地點的經緯度資料
      const locations = {
                  "台灣中油 南港站": [25.055515694010285, 121.6113700632797],
                  "7-11源遠門市": [25.09939920717083, 121.7583160432616],
                  "萊爾富瑞芳瑞濱店": [25.12070844697876, 121.8223105798968],
                  "三貂角極東公園": [25.011514578181842, 122.00287185409938],
                  "北宜蛋之家": [24.838755910739717, 121.79201933747079],
                  "台灣中油 蘇澳站": [24.596084172861172, 121.84706095517775],
                  "台灣雙醬咖哩蘇澳店": [24.59589151243851, 121.84579980469823],
                  "7-11金玉門市": [24.463900160386487, 121.7978404422048],
                  "台泥DAKA園區": [24.30080632233968, 121.75175887272232],
                  "花蓮北吉光輕旅": [23.98859335366532, 121.59926043391668],
                  "台灣中油 南埔站": [23.964243925328592, 121.58984648994961],
                  "7-11萬榮門市": [23.715390265085773, 121.4096211454788],
                  "林田山林業文化園區": [23.71816845518004, 121.39940893622766],
                  "東里車站": [23.272754283445565, 121.30466104157304],
                  "東里舊站": [23.270140639081358, 121.30597128180129],
                  "初來橋": [23.122907052379, 121.166819686189],
                  "台灣中油 海端站": [23.096726514754895, 121.17602821529228],
                  "途中．台東國際青年旅舍": [22.79743652586007, 121.1241256331921],
                  "台東飛機巷": [22.77744087235797, 121.1704052613135],
                  "台灣中油 加賀站": [22.710574603245533, 121.06768113775335],
                  "太麻里平交道": [22.62145762122411, 121.00669867798777],
                  "多良廢站": [22.507274664991336, 120.9585097753728],
                  "大武之心南迴驛站": [22.33786198004519, 120.89431940077515],
                  "台26線南田端": [22.252289995377673, 120.89374572942255],
                  "台灣中油 山海關站": [22.294530977196963, 120.88709306472872],
                  "南迴改攝影點": [22.26847014570805, 120.85500159960007],
                  "7-11南北棧門市": [22.243732360300996, 120.66443611290751],
                  "萊爾富枋山加祿村店": [22.330198587388036, 120.62037193636459],
                  "內埔鄉水門": [22.709144762570286, 120.64510954950418],
                  "台24線起點": [22.66535680309279, 120.47872755242365],
                  "高雄旅聚居青年旅舍": [22.631714996965567, 120.30134440513342],
                  "三地門中山公園": [22.715835060377227, 120.65526630928949],
                  "7-11頭目門市": [22.714012293090427, 120.65264156284114],
                  "7-11茂林門市": [22.88027473703134, 120.64985492969441],
                  "7-11荖濃門市": [23.072802127083428, 120.67298758283602],
                  "台灣中油 甲仙站": [23.076622786221073, 120.58210390377344],
                  "7-11楠西門市": [23.15844555745206, 120.48951619728516],
                  "7-11鈺善門市": [23.364754420395023, 120.42552436830968],
                  "7-11中埔門市": [23.45198188486941, 120.46054969155844],
                  "仲青行旅嘉義館LIGHT HOSTEL": [23.47776091199921, 120.44401996453398],
                  "夯仔內火雞肉飯": [23.47564725070322, 120.45837143704851],
                  "7-11錚多門市": [23.578641732340504, 120.43949340329051],
                  "台灣中油 斗六南環路站": [23.712552714556217, 120.55708852444307],
                  "車埕車站": [23.83268381359789, 120.86574753735188],
                  "信義鄉地利村": [23.793364720040586, 120.94372432407702],
                  "伊達邵": [23.848096368035602, 120.93111461343179],
                  "日月潭Dreamy Nomads Hostel": [23.866096112501474, 120.90973497400851],
                  "日月潭龍鳳宮": [23.86715819773423, 120.90560763256484],
                  "台灣中油 埔里中山路站": [23.969069720616282, 120.97226602372069],
                  "臺灣地理中心碑": [23.97416064337439, 120.97986233766058],
                  "7-11中心園門市": [23.974310720033273, 120.98024501543834],
                  "7-11百香果門市": [24.03783989267276, 120.92561350998918],
                  "7-11耘晨門市": [24.227897269232454, 120.8373463139923],
                  "7-11天星門市": [24.192410744597286, 120.74684489460016],
                  "草悟道漂鳥青年旅館": [24.15083503507478, 120.66050526502107],
                  "國立臺中科技大學": [24.149905265328464, 120.68402366601583],
                  "台灣中油 北屯站": [24.1798152777169, 120.70118665701918],
                  "7-11美豐門市": [24.329689204884875, 120.72948664430199],
                  "7-11為公門市": [24.573299401580705, 120.83706692281868],
                  "7-11隆華門市": [24.786794040490832, 120.9247609089733],
                  "台灣中油 新豐站": [24.872956110387193, 120.99999547018159],
                  "蘆竹仁愛路攝影點": [25.055271176701286, 121.31055391108],
                  "7-11粉寮門市": [25.086577594206688, 121.40331309098774],
                  "憲兵訓練中心": [25.075473678151948, 121.43477533271978],
      
                  // 路徑修正點
                  "rvspt新台五路": [25.068586303064496, 121.682417135116],
                  "rvspt暖暖源遠路": [25.10575001973621, 121.7354059150861],
                  "rvspt瑞芳物流共和國": [25.10692612783804, 121.77259877207781],
                  "rvspt北宜公路": [24.841455095452986, 121.79022815874079],
                  "rvspt頭城台2線": [24.853896212021162, 121.8233073589171],
                  "rvspt台2線台7線路口": [24.735621490322476, 121.81825418125088],
                  "rvspt台9線蘇澳東澳段": [24.530440504213686, 121.85793908075972],
                  "rvspt台9線南澳和平段": [24.35171809583795, 121.77565968926197],
                  "rvspt下清水橋-北端": [24.216505307114414, 121.68749325269602],
                  "rvspt下清水橋-南端": [24.21576166625, 121.68688170903947],
                  "rvspt台9線木瓜溪橋": [23.931547365269513, 121.53867096872416],
                  "rvspt台9線舊線萬榮段1": [23.71386264337309, 121.42169853225525],
                  "rvspt台9線舊線萬榮段2": [23.709839772735418, 121.41947591740292],
                  "rvspt池上市區": [23.12183776275271, 121.21777057139037],
                  "rvspt初鹿台9線": [22.855591826706718, 121.0922959504634],
                  "rvspt台9線台11乙線路口": [22.777243027614745, 121.12669738293953],
                  "rvspt太麻里台9線": [22.61616698065691, 121.00847625772224],
                  "rvspt高雄中正一路": [22.626507683501657, 120.337068207866],
                  "rvspt高雄三多一路": [22.624667060464034, 120.34271127424837],
                  "rvspt市道185號三地門茂林段": [22.76945689938885, 120.64401752769513],
                  "rvspt茂林市區": [22.885394465555787, 120.66353775799477],
                  "rvspt市道175號市道174號路口": [23.234446688440034, 120.47388458520327],
                  "rvspt市道174號市道165號路口": [23.23322916612976, 120.35396360729365],
                  "rvspt市道165號六甲東山段": [23.290174659186242, 120.38323553349014],
                  "rvspt嘉義吳鳳北路光彩街路口": [23.47855870875286, 120.45331395386096],
                  "rvspt台1線大林斗南段": [23.64589089343551, 120.4707783200062],
                  "rvspt台1丁線斗南斗六段": [23.68435081871705, 120.48938938003916],
                  "rvspt縣道141號彰雲大橋": [23.784401979983546, 120.63586493086727],
                  "rvspt台21線埔里國姓段": [23.995538037293695, 120.9706991665683],
                  "rvspt東勢東關路八段底": [24.276216815451594, 120.81652058013218],
                  "rvspt臺中忠明路": [24.162937875023946, 120.66568431719482],
                  "rvspt臺中三民路二段": [24.14298240441751, 120.68002597503406],
                  "rvspt台13線三義銅鑼段": [24.451497816651774, 120.78056253056079],
                  "rvspt台13線銅鑼苗栗段": [24.53588545510332, 120.80787703552532],
                  "rvspt台13線頭屋造橋段": [24.59829209099044, 120.88468971602191],
                  "rvspt新竹中華路二段": [24.800717181776456, 120.96943779447996],
                  "rvspt台31線湖口新屋段": [24.911463798899344, 121.08863731885597],
                  "rvspt台31線新屋蘆竹段": [25.027061505469884, 121.2291923335297],
                  "rvspt林口文化北路仁愛路路口": [25.08063488408607, 121.36878079377898],
                  "rvspt五股水碓二路": [25.0729746418043, 121.42963164296359],
                  "rvspt五股成泰路蓬萊路路口": [25.079278084808205, 121.43617746145004],
                  "rvspt新莊新北大道四段": [25.058506875827344, 121.44546609485657],
                  "rvspt三重新北大道一段": [25.06135437450383, 121.4877351862914],
                  "rvspt民權大橋": [25.06440512884863, 121.57122271140318],
                  "rvspt台北大橋": [25.063603420474994, 121.50678829545856],
                  "rvspt成功橋": [25.059146999188325, 121.59198518113527],
                };

      // 通用函數：初始化地圖並繪製路線
      function createMap(containerId, stops, color = '#000000') {
        // 初始化地圖
        const map = L.map(containerId).setView([23.5, 121], 7);

        // 添加地圖圖層
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
          attribution: '© OpenStreetMap',
          maxZoom: 18
        }).addTo(map);

        // 將路徑轉換為經緯度
        const waypoints = stops.map(stop => L.latLng(...locations[stop]));
        
        // 繪製路線
        L.Routing.control({
          waypoints: waypoints,
          routeWhileDragging: false,
          draggableWaypoints: false,
          addWaypoints: false,
          lineOptions: {
            styles: [{ color, weight: 3 }]
          }
        }).addTo(map);

        // 自動縮放到路線範圍
        map.fitBounds(L.latLngBounds(waypoints));

        return map;
      }

      // 繪製總路線圖
      const allStops = route.flatMap(day => day.stops);
      createMap('main-map', allStops, '#FF0000');

      // 繪製分日地圖
      createMap('day1-map', route.find(day => day.day === "Day1").stops, '#0000FF');
      createMap('day2-map', route.find(day => day.day === "Day2").stops, '#008000');
      createMap('day3-map', route.find(day => day.day === "Day3").stops, '#FFA500');
    }

    map();
  </script>
</section>
